(this["webpackJsonpexpense-frontend"]=this["webpackJsonpexpense-frontend"]||[]).push([[0],{20:function(e,t,n){e.exports=n(44)},25:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),u=(n(25),function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Expense Tracker"))}),l=n(3),i=n.n(l),s=n(7),m=n(5),d=n(19),p=n(2),f=function(e,t){switch(t.type){case"DELETE":return Object(p.a)(Object(p.a)({},e),{},{money:e.money.filter((function(e){return e._id!==t.id}))});case"ADD":return Object(p.a)(Object(p.a)({},e),{},{money:[].concat(Object(d.a)(e.money),[t.payload])});case"GET":return Object(p.a)(Object(p.a)({},e),{},{money:t.payload});case"ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});default:return e}},E=n(8),y=n.n(E),b={money:[],loading:!0,error:null},v=Object(a.createContext)(b),h=function(e){var t=e.children,n=Object(a.useReducer)(f,b),c=Object(m.a)(n,2),o=c[0],u=c[1],l=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/showBalance").then((function(e){u({type:"GET",payload:e.data.data})})).catch((function(e){u({type:"ERROR",payload:e.response.data.error})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/deleteMoney/".concat(t)).then((function(e){u({type:"DELETE",id:t})})).catch((function(e){u({type:"ERROR",payload:e.response.data.error})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.next=3,y.a.post("/addMoney",t,n).then((function(e){u({type:"ADD",payload:e.data.data})})).catch((function(e){return u({type:"ERROR",payload:e.response.data.error})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v.Provider,{value:{money:o.money,loading:o.loading,error:o.error,getTransaction:l,deleteTransaction:d,addTransaction:p}},t)};function O(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var j=function(){var e=Object(a.useContext)(v).money.map((function(e){return e.amount}));console.log(e);var t=e.reduce((function(e,t){return e+t}),0);return r.a.createElement("div",null,r.a.createElement("h4",null,"Your Balance"),r.a.createElement("h1",null,"\u20b9 ",O(t)))},x=function(){var e=Object(a.useContext)(v).money.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0),n=e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",{className:"inc-exp-container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Income"),r.a.createElement("p",{className:"money plus"},"\u20b9",O(t))),r.a.createElement("div",null,r.a.createElement("h4",null,"Expense"),r.a.createElement("p",{className:"money minus"},"-\u20b9",O(Math.abs(n)))))},g=function(e){var t=e.transaction,n=Object(a.useContext)(v).deleteTransaction,c=t.amount<0?"-":"";return r.a.createElement("div",null,r.a.createElement("li",{className:t.amount<0?"minus":"plus"},t.text," ",r.a.createElement("span",{className:t.amount>0?"money plus":"money minus"},"\u20b9",c,O(Math.abs(t.amount))),r.a.createElement("button",{onClick:function(){n(t._id)},className:"delete-btn"},"x")))},R=function(){var e=Object(a.useContext)(v),t=e.money,n=e.getTransaction;return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",null,r.a.createElement("h3",null,"History"),r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement(g,{key:e._id,transaction:e})}))))},T=n(46),w=function(){var e=Object(a.useContext)(v).addTransaction,t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(0),l=Object(m.a)(u,2),i=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n={id:Object(T.a)(),text:c,amount:+i};e(n),window.location.reload()}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"text"},"Text"),r.a.createElement("input",{type:"text",onChange:function(e){return o(e.target.value)},id:"text",placeholder:"Enter text..."})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"amount"},"Amount ",r.a.createElement("br",null),"(negative - expense, positive - income)"),r.a.createElement("input",{type:"number",onChange:function(e){return s(e.target.value)},id:"amount",placeholder:"Enter amount..."})),r.a.createElement("button",{className:"btn"},"Add transaction")))};var C=function(){return r.a.createElement(h,null,r.a.createElement(u,null),r.a.createElement(j,null),r.a.createElement(x,null),r.a.createElement(R,null),r.a.createElement(w,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.c037c1b0.chunk.js.map